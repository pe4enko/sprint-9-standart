### **Название задачи:** Передача ставок в кол-центр

### **Автор:** Я

### **Дата:** 17.03.2025

### **Функциональные требования**

| **№** | **Действующие лица или системы** | **Use Case**                            | **Описание**                                                                     |
|:-----:|:---------------------------------|:----------------------------------------|:---------------------------------------------------------------------------------|
|   1   | Сотрудник кол-центра             | Получение актуальных ставок             | Сотрудник может просматривать актуальные депозитные ставки в системе кол-центра. |
|   2   | Партнёрский кол-центр            | Получение файла с актуальными ставками  | Партнёрский кол-центр получает файл с актуальными ставками через SFTP.           |
|   3   | Система управления ставками      | Обновление ставок                       | Обновление депозитных ставок происходит автоматически в системе.                 |
|   4   | Банк                             | Отправка ставок партнёрскому кол-центру | Банк формирует файл с актуальными ставками и отправляет его через SFTP.          |

### **Нефункциональные требования**

| **№** | **Требование**                                                                          |
|:-----:|:----------------------------------------------------------------------------------------|
|   1   | Данные по ставкам передаются во внешний КЦ в виде файлов.                               |
|   2   | Передача данных в партнёрский кол-центр должна быть безопасной (SFTP).                  |
|   3   | В системе кол-центра Банка ставки должны обновляться без ручного вмешательства.         |
|   4   | В случае ошибки передачи файла во внешний КЦ система должна повторять попытку отправки. |

### **Решение**

#### Диаграммы

Приведите диаграммы контекста и контейнеров в модели C4. Диаграммы представлены в файле c4-CallCenter.drawio.

#### Обоснование решений

- Кол-центр банка получает ставки через внутренний API, что позволяет оперативно обновлять данные.
- Для партнёрского кол-центра передача ставок реализована через SFTP, поскольку они не поддерживают API-интеграцию.
- Автоматизация обновления ставок снижает нагрузку на операторов и минимизирует ошибки.
- Формат CSV выбран как универсальный и удобный для обработки сторонними системами.

### **Альтернативы**

1. **Использование API для партнёрского кол-центра** – невозможно, так как партнёр не поддерживает API.
2. **Передача ставок через email** – менее надёжное решение, возможны задержки, проблемы с доставкой.
3. **Ручное обновление ставок в кол-центре** – увеличивает нагрузку на операторов, риск ошибок.

### **Недостатки, ограничения, риски**

- **Синхронизация данных** – возможны задержки в обновлении ставок из-за зависимостей от внешних систем.
- **Безопасность передачи данных через SFTP** – требуется дополнительный контроль за доступами.
- **Зависимость от инфраструктуры партнёра** – если у партнёра возникнут проблемы с обработкой файла, банк не сможет это
  контролировать.

### **Список крупных задач**

1. **Система управления ставками**
    - Реализовать API для получения актуальных ставок.
    - Настроить автоматическое обновление ставок.
2. **Система кол-центра**
    - Добавить интеграцию с API управления ставками.
    - Разработать UI для отображения ставок операторам.
3. **Партнёрский кол-центр**
    - Настроить процесс приёма файлов через SFTP.
    - Реализовать парсер CSV-файлов для обновления ставок.
4. **Инфраструктура**
    - Настроить SFTP-сервер для передачи файлов.
    - Настроить мониторинг передачи файлов и логирование ошибок.

### **RoadMap**

RoadMap_bank_Standart.drawio
