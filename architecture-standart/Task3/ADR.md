### <a name="_b7urdng99y53"></a>**Название задачи:** Открытие депозитов онлайн - MVP

### <a name="_hjk0fkfyohdk"></a>**Автор:** Я

### <a name="_uanumrh8zrui"></a>**Дата:** 16.03.2025

### <a name="_3bfxc9a45514"></a>**Функциональные требования**

Опишите здесь верхнеуровневые Use Cases. Их нужно оформить в виде таблицы с пошаговым описанием:

| **№** | **Действующие лица или системы** | **Use Case**                 | **Описание**                                                                                                                 |
|:-----:|:---------------------------------|:-----------------------------|:-----------------------------------------------------------------------------------------------------------------------------|
|   1   | Клиент                           | Просмотр доступных депозитов | Клиент может видеть список доступных депозитов с актуальными ставками на сайте и в интернет-банке.                           |
|   2   | Клиент                           | Подача заявки на депозит     | Клиент оставляет заявку на депозит через сайт (номер телефона, ФИО) или через интернет-банк (выбирает счет, сумму депозита). |
|   3   | Кол-центр                        | Обработка заявки             | Менеджер кол-центра получает заявку с сайта и связывается с клиентом, предлагая условия.                                     |
|   4   | Клиент                           | Идентификация в отделении    | Новый клиент проходит идентификацию в отделении банка.                                                                       |
|   5   | АБС                              | Подтверждение депозита       | Менеджер бэк-офиса подтверждает заявку в АБС, клиент получает уведомление.                                                   |
|   6   | Система СМС                      | Отправка уведомлений         | Клиент получает СМС при подтверждении ставки и открытии депозита.                                                            |

### <a name="_u8xz25hbrgql"></a>**Нефункциональные требования**

Опишите здесь нефункциональные требования и архитектурно-значимые требования.

| **№** | **Требование**                                                                             |
|:-----:|:-------------------------------------------------------------------------------------------|
|   1   | Данные клиентов должны быть зашифрованы при передаче.                                      |
|   2   | Операции должны выполняться с минимальной задержкой (миллисекунды).                        |
|   3   | Должна использоваться существующая инфраструктура (MS SQL, Oracle, Kafka при возможности). |
|   4   | Интернет-банк не должен напрямую работать с API АБС, чтобы не перегружать систему.         |
|   5   | Должно быть обеспечено горизонтальное масштабирование интернет-банка.                      |
|   6   | Система должна быть доступна 99,9% времени.                                                |

### <a name="_qmphm5d6rvi3"></a>**Решение**

Приведите диаграммы контекста и контейнеров в модели C4. Диаграммы представлены в файле c4.drawio.

Для того чтобы система была максимально гибкой и масштабируемой, предлагается использовать микросервисную архитектуру.
Одним из таких микросервисов был выделен API Gateway, который будет обеспечивать доступ к сервисам и контролировать их работу.
Единай точка входа в дальнейшем поможет упростить мониторинг и управление сервисами. А так же возможность добавить новые 
клиенты например мобильное приложение.
Он собирает запросы и передает их дальше в обработку. Операторы могут получать сообщения и обрабатывать их, но в  
дальнейшем все операции будут автоматизированы.
Для минимизации нагрузки интернет-банк будет работать через промежуточные API, избегая прямых запросов в АБС.
Шифрование данных будет реализовано с использованием стандартных банковских протоколов.

### <a name="_bjrr7veeh80c"></a>**Альтернативы**

* Прямая интеграция интернет-банка с АБС – риск перегрузки базы данных, отказались от этого варианта.

* Использование другой системы очередей (RabbitMQ вместо Kafka) – но Kafka наиболее просто в обслуживании и упрощает поддержку.

* Вынос депозитных ставок в отдельный сервис – сложнее в реализации на текущем этапе, но возможно в будущем.

**Недостатки, ограничения, риски**

* Совместимость интернет-банка с Kafka – пока не реализована, может потребовать значительных доработок.

* Нагрузка на АБС – возможна проблема при росте количества заявок, если не будет кэша для депозитных ставок.

* Доступность интернет-банка – сейчас работает в одном ЦОД, что не обеспечивает 99,9% доступности.

